{
  "openapi": "3.0.0",
  "info": {
    "title": "Fishing Conditions API",
    "version": "1.1.0"
  },
  "servers": [
    {
      "url": "https://fishing-agent-hhasa8fzeae8h2ft.australiasoutheast-01.azurewebsites.net"
    }
  ],
  "paths": {
    "/weather-info": {
      "get": {
        "summary": "Get fishing conditions for a location",
        "operationId": "getFishingConditions",
        "parameters": [
          {
            "name": "location",
            "in": "query",
            "description": "Location name (e.g., Pauanui, Coromandel, New Zealand)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "days",
            "in": "query",
            "description": "Number of days ahead to forecast (1â€“10)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "coordinates": {
                      "type": "object",
                      "properties": {
                        "lat": { "type": "number" },
                        "lng": { "type": "number" }
                      }
                    },
                    "location": { "type": "string" },
                    "forecast": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "summary": {
                            "type": "object",
                            "properties": {
                              "tide": { "type": "string" },
                              "wind_peak_kmh": { "type": "number" },
                              "swell_peak_m": { "type": "number" },
                              "air_temp_max_c": { "type": "number" },
                              "air_temp_min_c": { "type": "number" },
                              "air_temp_avg_c": { "type": "number" },
                              "water_temp_max_c": { "type": "number" },
                              "water_temp_min_c": { "type": "number" },
                              "water_temp_avg_c": { "type": "number" },
                              "cloud_cover_avg_percent": { "type": "number" },
                              "sunrise": { "type": "string" },
                              "sunset": { "type": "string" }
                            }
                          },
                          "high_tide": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "height": { "type": "number" }
                              }
                            }
                          },
                          "low_tide": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "height": { "type": "number" }
                              }
                            }
                          },
                          "sunrise": { "type": "string" },
                          "sunset": { "type": "string" },
                          "moon": {
                            "type": "object",
                            "properties": {
                              "rise": { "type": "string" },
                              "set": { "type": "string" }
                            }
                          },
                          "moon_phase": {
                            "type": "object",
                            "properties": {
                              "closest": {
                                "type": "object",
                                "properties": {
                                  "text": { "type": "string" },
                                  "time": { "type": "string" },
                                  "value": { "type": "number" }
                                }
                              },
                              "current": {
                                "type": "object",
                                "properties": {
                                  "text": { "type": "string" },
                                  "time": { "type": "string" },
                                  "value": { "type": "number" }
                                }
                              }
                            }
                          },
                          "wind": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "speed_kmh": { "type": "number" },
                                "direction_deg": { "type": "number" }
                              }
                            }
                          },
                          "swell_height": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "height_m": { "type": "number" }
                              }
                            }
                          },
                          "airTemperature": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "temperature_c": { "type": "number" }
                              }
                            }
                          },
                          "waterTemperature": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "temperature_c": { "type": "number" }
                              }
                            }
                          },
                          "precipitation": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "amount_mm": { "type": "number" }
                              }
                            }
                          },
                          "cloudCover": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "time": { "type": "string" },
                                "coverage_percent": { "type": "number" }
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "location": { "type": "string" },
                        "timezone_name": { "type": "string" },
                        "timezone_offset": { "type": "string" },
                        "requested_days": { "type": "integer" },
                        "data_source": { "type": "string" },
                        "data_status": { "type": "string" }
                      }
                    },
                    "units": {
                      "type": "object",
                      "properties": {
                        "height": { "type": "string" },
                        "speed": { "type": "string" },
                        "temperature": { "type": "string" },
                        "precipitation": { "type": "string" },
                        "direction": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid location or geocoding failure"
          },
          "429": {
            "description": "API quota exceeded"
          }
        }
      }
    }
  }
}
